(function(){$(function(){var q=function(u){var v=/rsessionid=([^;]+)/;var t=v.exec(document.cookie);if(t){return t[1]}return"ressionid not present in cookies"};var p=function(u,t){var v=q("rsessionid");if(!t){t={}}t.rsessionid=v;analytics.track(u,t)};var s=function(u,w,v,t){w.preventDefault();p(v,t);window.location=u.attr("href")};$("#getStarted").click(function(t){s($(this),t,"Clicked get started")});$(".login-navigation-bar").click(function(t){s($(this),t,"Clicked Login Button on Navigation Bar")});$("#loginBurgerMenu").click(function(t){s($(this),t,"Clicked Login Button on Burger Menu")});var r=new Swiper(".s1",{nextButton:".swiper-button-next-cart",prevButton:".swiper-button-prev-cart",slidesPerView:3.5,paginationClickable:true,spaceBetween:30,breakpoints:{1042:{slidesPerView:2.5},768:{slidesPerView:1.7,spaceBetween:10}}})});var h=function(p){console.log(p);$.ajax({url:"/log-error/",type:"POST",headers:{"X-CSRFToken":Cookies.get("csrftoken")},data:JSON.stringify({m:p}),dataType:"json",contentType:"application/json; charset=utf-8",success:function(){}})};(function(q){function p(s,t){var r=hasClass(s,t)?removeClass:addClass;r(s,t)}})(window);$(function(){$(".wl-dropdown").on("show.bs.dropdown hide.bs.dropdown",function(){$(this).find(".caret").toggleClass("caretup");$(this).find(".dropdown-toggle").toggleClass("active-mode")})});$(function(){$(".main-menu").on("show.bs.dropdown hide.bs.dropdown",function(){$(this).find(".nav-toggle").toggleClass("active");if($(".product-desktop").hasClass("active-mode")){$(".product-desktop").removeClass("active-mode");$(".product-desktop .caret").removeClass("caretup")}});$(".insights-header .product-desktop .prod-label").text("INSIGHTS");$(".product-desktop").hover(function(){$(this).find(".dropdown-menu").stop(true,true).delay(200).fadeIn(500)},function(){$(this).find(".dropdown-menu").stop(true,true).delay(200).fadeOut(500)})});$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var q=$(this.hash);q=q.length?q:$("[name="+this.hash.slice(1)+"]");if(q.length){$("html, body").animate({scrollTop:q.offset().top},1000);return false}}});function p(){if(d.scrollTop()>=80){d.scrollTop(80)}else{d.scrollTop(0)}}$("#wealthy-nav").click(function(){$("#wealthy").css({height:"100%",padding:"2em",opacity:"1"});$("#taxSaver").css({height:"0px",padding:"0em 2em",opacity:"0"});$("#general").css({height:"0px",padding:"0em 2em",opacity:"0"});$("#wealthy-nav").css("color","#333");$("#taxy-nav").css("color","#aaa");$("#general-nav").css("color","#aaa");p()});$("#taxy-nav").click(function(){$("#wealthy").css({height:"0px",padding:"0em 2em",opacity:"0"});$("#taxSaver").css({height:"100%",padding:"2em",opacity:"1"});$("#general").css({height:"0px",padding:"0em 2em",opacity:"0"});$("#wealthy-nav").css("color","#aaa");$("#taxy-nav").css("color","#333");$("#general-nav").css("color","#aaa");p()});$("#general-nav").click(function(){$("#wealthy").css({height:"0px",padding:"0em 2em",opacity:"0"});$("#taxSaver").css({height:"0px",padding:"0em 2em",opacity:"0"});$("#general").css({height:"100%",padding:"2em",opacity:"1"});$("#wealthy-nav").css("color","#aaa");$("#taxy-nav").css("color","#aaa");$("#general-nav").css("color","#333");p()});$("#onboardDialog").dialog({autoOpen:false,modal:true,title:"Onboarding selection"});$("#clickForOnboard").click(function(){$("#onboardDialog").dialog("open");$("body").css({top:"0px",bottom:"0px",position:"fixed",overflow:"hidden"})});window.setTimeout(function(){$("#closeOnboardModal").css("display","inline-block")},1000);$("#closeOnboardModal").click(function(){$("#onboardDialog").dialog("close");$("body").css({top:"auto",bottom:"auto",position:"relative",overflow:"auto"})})});var m={"1":11.09,"3":16.28,"5":17.55,"10":17.55};var o={"1":8.32,"3":8.33,"5":8.27,"10":8.27};var g={"1":9.36,"3":9.68,"5":9.12,"10":9.12};function k(p){return((p/100000).toFixed(2)+"L")}function a(p){return((p/1000).toFixed(2)+"K")}var i=function(){var s=parseInt($("#amountInput").val());var q=$("#invest-year").val();var r=Math.round(s*Math.pow((1+(m[q]/100)),q));var p=Math.round(s*Math.pow((1+(o[q]/100)),q));var t=Math.round(s*Math.pow((1+(g[q]/100)),q));if($(window).width()<550){if(r>100000){r=k(r);p=k(p);t=k(t)}else{r=a(r);p=a(p);t=a(t)}}$("#choosenAmount").text(s.toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"));$("#wealthyReturn").text(r.toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"));$("#fdReturn").text(p.toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"));$("#nscReturn").text(t.toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"))};$("#invest-year").change(function(){i()});$("#amountInput").rangeslider({polyfill:false,onSlideEnd:function(p,q){$("#status").text(Math.round(q))},onSlide:function(){i()}});i();function b(){if($(".amount-input").hasClass("in-view")){setTimeout(function(){$(".amount-input").addClass("completed-slide")},800)}}$("div.wl-dropdown a.btn").hover(function(){$(this).find(".dropdown-menu").stop(true,true).delay(200).fadeIn(500)},function(){$(this).find(".dropdown-menu").stop(true,true).delay(200).fadeOut(500)});var n=$(".animation-element");var d=$(window);function j(){var r=d.height();var q=d.width();var s=d.scrollTop();var p=(s+r);$.each(n,function(){var u=$(this);var x=u.outerHeight();var w=u.offset().top;var t=(w+x);if(u.hasClass("one-time")&&q<450){var v=10}else{var v=150}if((t>=s)&&(w+v<=p)){u.addClass("in-view");b()}else{if(!u.hasClass("one-time")){u.removeClass("in-view")}}})}d.on("scroll resize",j);d.trigger("scroll");d.on("scroll resize",function(){var p=d.width();var q=d.scrollTop();if(p>767){$(".investment-header").css({"margin-top":-q+"px"})}if(p>950&&($(".faq-sidebar"))){if(q>80){$(".faq-sidebar").css({position:"fixed","margin-top":"-80px"});$(".faq-container .faq").css({"margin-left":"270px"})}else{$(".faq-sidebar").css({position:"relative","margin-top":"0px"});$(".faq-container .faq").css({"margin-left":"0px"})}}else{if(q>80){$(".faq-sidebar").css({position:"fixed","margin-top":"-80px",height:"80px","z-index":"10"});$(".faq-container .faq").css({"margin-top":"80px"})}else{$(".faq-sidebar").css({position:"relative","margin-top":"0px",height:"auto","z-index":"0"});$(".faq-container .faq").css({"margin-top":"0px"})}}});var f=new Date("2017-03-31T07:30:00Z"),c=new Date(),l=f.getTime()/1000-c.getTime()/1000;var e=$(".tax-saver-clock").FlipClock(l,{clockFace:"DailyCounter",countdown:true});$(function(){$(".select3").click(function(){$("#taxyInvestYear").val("3").trigger("change");q(3)});$(".select5").click(function(){$("#taxyInvestYear").val("5").trigger("change");q(5)});$(".select10").click(function(){$("#taxyInvestYear").val("10").trigger("change");q(10)});$(".select15").click(function(){$("#taxyInvestYear").val("15").trigger("change");q(15)});function q(v){$(".taxy-compare-button").attr("class","taxy-compare-button selected"+v);if(v>=5){$(".fd-compare i").attr("class","icon-lock-open");$(".fd-compare").addClass("unlocked")}else{$(".fd-compare i").attr("class","icon-lock");$(".fd-compare").removeClass("unlocked")}if(v==15){$(".pf-compare i").attr("class","icon-lock-open");$(".pf-compare").addClass("unlocked")}else{$(".pf-compare i").attr("class","icon-lock");$(".pf-compare").removeClass("unlocked")}}$("#taxyInvestYear").change(function(){s()});var r={"1":15,"3":15,"5":15,"10":15,"15":15};var p={"1":6.75,"3":6.75,"5":6.75,"10":6.75,"15":6.75};var u={"1":8,"3":8,"5":8,"10":8,"15":8};function s(){var y=parseInt($("#taxyAmountInput").val());var w=$("#taxyInvestYear").val();var x=Math.round(y*Math.pow((1+(r[w]/100)),w));var v=Math.round(y*Math.pow((1+(p[w]/100)),w));var z=Math.round(y*Math.pow((1+(u[w]/100)),w));if($(window).width()<550){if(x>100000){x=k(x);v=k(v);z=k(z)}else{x=a(x);v=a(v);z=a(z)}}$("#taxyChoosenAmount").text(y.toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"));$("#taxyWealthyReturn").text(x.toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"));$("#taxyFdReturn").text(v.toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"));$("#taxyPfReturn").text(z.toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"))}$("#taxyAmountInput").rangeslider({polyfill:false,onSlideEnd:function(v,w){$("#status").text(Math.round(w))},onSlide:function(){s()}});s();function t(){if($(".amount-input").hasClass("in-view")){setTimeout(function(){$(".amount-input").addClass("completed-slide")},800)}}$(".what-seeing-is-believing").tooltip({classes:{"ui-tooltip":"wl-tooltip"},hide:{duration:100},position:{at:"bottom"}});$(".amount-output").tooltip({classes:{"ui-tooltip":"wl-tooltip"},hide:{duration:100},position:{at:"bottom"}})});
/*!
 * Bootstrap-select v1.10.0 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2016 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
;!function(q,p){"function"==typeof define&&define.amd?define(["jquery"],function(r){return p(r)}):"object"==typeof exports?module.exports=p(require("jquery")):p(jQuery)}(this,function(p){!function(r){function q(w){var x=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return r.each(x,function(){w=w.replace(this.re,this.ch)}),w}function v(x){var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B="(?:"+Object.keys(w).join("|")+")",A=new RegExp(B),z=new RegExp(B,"g"),y=null==x?"":""+x;return A.test(y)?y.replace(z,function(C){return w[C]}):y}function u(w,C){var B=arguments,A=w,z=C;[].shift.apply(B);var y,x=this.each(function(){var D=r(this);if(D.is("select")){var H=D.data("selectpicker"),G="object"==typeof A&&A;if(H){if(G){for(var F in G){G.hasOwnProperty(F)&&(H.options[F]=G[F])}}}else{var E=r.extend({},t.DEFAULTS,r.fn.selectpicker.defaults||{},D.data(),G);E.template=r.extend({},t.DEFAULTS.template,r.fn.selectpicker.defaults?r.fn.selectpicker.defaults.template:{},D.data().template,G.template),D.data("selectpicker",H=new t(this,E,z))}"string"==typeof A&&(y=H[A] instanceof Function?H[A].apply(H,B):H.options[A])}});return"undefined"!=typeof y?y:x}String.prototype.includes||!function(){var x={}.toString,w=function(){try{var B={},A=Object.defineProperty,D=A(B,B,B)&&A}catch(C){}return D}(),z="".indexOf,y=function(A){if(null==this){throw new TypeError}var H=String(this);if(A&&"[object RegExp]"==x.call(A)){throw new TypeError}var G=H.length,F=String(A),E=F.length,D=arguments.length>1?arguments[1]:void 0,C=D?Number(D):0;C!=C&&(C=0);var B=Math.min(Math.max(C,0),G);return E+B>G?!1:-1!=z.call(H,F,C)};w?w(String.prototype,"includes",{value:y,configurable:!0,writable:!0}):String.prototype.includes=y}(),String.prototype.startsWith||!function(){var x=function(){try{var A={},z=Object.defineProperty,C=z(A,A,A)&&z}catch(B){}return C}(),w={}.toString,y=function(H){if(null==this){throw new TypeError}var G=String(this);if(H&&"[object RegExp]"==w.call(H)){throw new TypeError}var F=G.length,E=String(H),D=E.length,C=arguments.length>1?arguments[1]:void 0,B=C?Number(C):0;B!=B&&(B=0);var A=Math.min(Math.max(B,0),F);if(D+A>F){return !1}for(var z=-1;++z<D;){if(G.charCodeAt(A+z)!=E.charCodeAt(z)){return !1}}return !0};x?x(String.prototype,"startsWith",{value:y,configurable:!0,writable:!0}):String.prototype.startsWith=y}(),Object.keys||(Object.keys=function(x,w,y){y=[];for(w in x){y.hasOwnProperty.call(x,w)&&y.push(w)}return y}),r.fn.triggerNative=function(x){var w,y=this[0];y.dispatchEvent?("function"==typeof Event?w=new Event(x,{bubbles:!0}):(w=document.createEvent("Event"),w.initEvent(x,!0,!1)),y.dispatchEvent(w)):(y.fireEvent&&(w=document.createEventObject(),w.eventType=x,y.fireEvent("on"+x,w)),this.trigger(x))},r.expr[":"].icontains=function(w,A,z){var y=r(w),x=(y.data("tokens")||y.text()).toUpperCase();return x.includes(z[3].toUpperCase())},r.expr[":"].ibegins=function(w,A,z){var y=r(w),x=(y.data("tokens")||y.text()).toUpperCase();return x.startsWith(z[3].toUpperCase())},r.expr[":"].aicontains=function(w,A,z){var y=r(w),x=(y.data("tokens")||y.data("normalizedText")||y.text()).toUpperCase();return x.includes(z[3].toUpperCase())},r.expr[":"].aibegins=function(w,A,z){var y=r(w),x=(y.data("tokens")||y.data("normalizedText")||y.text()).toUpperCase();return x.startsWith(z[3].toUpperCase())};var t=function(w,y,x){x&&(x.stopPropagation(),x.preventDefault()),this.$element=r(w),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=y,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=t.prototype.val,this.render=t.prototype.render,this.refresh=t.prototype.refresh,this.setStyle=t.prototype.setStyle,this.selectAll=t.prototype.selectAll,this.deselectAll=t.prototype.deselectAll,this.destroy=t.prototype.destroy,this.remove=t.prototype.remove,this.show=t.prototype.show,this.hide=t.prototype.hide,this.init()};t.VERSION="1.10.0",t.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(x,w){return 1==x?"{0} item selected":"{0} items selected"},maxOptionsText:function(x,w){return[1==x?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==w?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},t.prototype={constructor:t,init:function(){var w=this,x=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof x&&(this.$button.attr("data-id",x),r('label[for="'+x+'"]').click(function(y){y.preventDefault(),w.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(y){w.$element.trigger("hide.bs.select",y)},"hidden.bs.dropdown":function(y){w.$element.trigger("hidden.bs.select",y)},"show.bs.dropdown":function(y){w.$element.trigger("show.bs.select",y)},"shown.bs.dropdown":function(y){w.$element.trigger("shown.bs.select",y)}}),w.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){w.$button.addClass("bs-invalid").focus(),w.$element.on({"focus.bs.select":function(){w.$button.focus(),w.$element.off("focus.bs.select")},"shown.bs.select":function(){w.$element.val(w.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&w.$button.removeClass("bs-invalid"),w.$element.off("rendered.bs.select")}})}),setTimeout(function(){w.$element.trigger("loaded.bs.select")})},createDropdown:function(){var w=this.multiple||this.options.showTick?" show-tick":"",D=this.$element.parent().hasClass("input-group")?" input-group-btn":"",C=this.autofocus?" autofocus":"",B=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",A=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+v(this.options.liveSearchPlaceholder)+'"')+"></div>":"",z=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",y=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",x='<div class="btn-group bootstrap-select'+w+D+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+C+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+B+A+z+'<ul class="dropdown-menu inner" role="menu"></ul>'+y+"</div></div>";return r(x)},createView:function(){var x=this.createDropdown(),w=this.createLi();return x.find("ul")[0].innerHTML=w,x},reloadLi:function(){this.destroyLi();var w=this.createLi();this.$menuInner[0].innerHTML=w},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var D=this,C=[],B=0,A=document.createElement("option"),z=-1,y=function(F,E,H,G){return"<li"+("undefined"!=typeof H&""!==H?' class="'+H+'"':"")+("undefined"!=typeof E&null!==E?' data-original-index="'+E+'"':"")+("undefined"!=typeof G&null!==G?'data-optgroup="'+G+'"':"")+">"+F+"</li>"},x=function(E,H,G,F){return'<a tabindex="0"'+("undefined"!=typeof H?' class="'+H+'"':"")+("undefined"!=typeof G?' style="'+G+'"':"")+(D.options.liveSearchNormalize?' data-normalized-text="'+q(v(E))+'"':"")+("undefined"!=typeof F||null!==F?' data-tokens="'+F+'"':"")+">"+E+'<span class="'+D.options.iconBase+" "+D.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(z--,!this.$element.find(".bs-title-option").length)){var w=this.$element[0];A.className="bs-title-option",A.appendChild(document.createTextNode(this.options.title)),A.value="",w.insertBefore(A,w.firstChild),void 0===r(w.options[w.selectedIndex]).attr("selected")&&(A.selected=!0)}return this.$element.find("option").each(function(O){var N=r(this);if(z++,!N.hasClass("bs-title-option")){var M=this.className||"",L=this.style.cssText,K=N.data("content")?N.data("content"):N.html(),J=N.data("tokens")?N.data("tokens"):null,I="undefined"!=typeof N.data("subtext")?'<small class="text-muted">'+N.data("subtext")+"</small>":"",H="undefined"!=typeof N.data("icon")?'<span class="'+D.options.iconBase+" "+N.data("icon")+'"></span> ':"",G="OPTGROUP"===this.parentNode.tagName,F=this.disabled||G&&this.parentNode.disabled;if(""!==H&&F&&(H="<span>"+H+"</span>"),D.options.hideDisabled&&F&&!G){return void z--}if(N.data("content")||(K=H+'<span class="text">'+K+I+"</span>"),G&&N.data("divider")!==!0){var E=" "+this.parentNode.className||"";if(0===N.index()){B+=1;var R=this.parentNode.label,Q="undefined"!=typeof N.parent().data("subtext")?'<small class="text-muted">'+N.parent().data("subtext")+"</small>":"",P=N.parent().data("icon")?'<span class="'+D.options.iconBase+" "+N.parent().data("icon")+'"></span> ':"";R=P+'<span class="text">'+R+Q+"</span>",0!==O&&C.length>0&&(z++,C.push(y("",null,"divider",B+"div"))),z++,C.push(y(R,null,"dropdown-header"+E,B))}if(D.options.hideDisabled&&F){return void z--}C.push(y(x(K,"opt "+M+E,L,J),O,"",B))}else{N.data("divider")===!0?C.push(y("",O,"divider")):N.data("hidden")===!0?C.push(y(x(K,M,L,J),O,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(z++,C.push(y("",null,"divider",B+"div"))),C.push(y(x(K,M,L,J),O)))}D.liObj[O]=z}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),C.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(w){var D,C=this;w!==!1&&this.$element.find("option").each(function(F){var E=C.findLis().eq(C.liObj[F]);C.setDisabled(F,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,E),C.setSelected(F,this.selected,E)}),this.tabIndex();var B=this.$element.find("option").map(function(){if(this.selected){if(C.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled)){return}var E,G=r(this),F=G.data("icon")&&C.options.showIcon?'<i class="'+C.options.iconBase+" "+G.data("icon")+'"></i> ':"";return E=C.options.showSubtext&&G.data("subtext")&&!C.multiple?' <small class="text-muted">'+G.data("subtext")+"</small>":"","undefined"!=typeof G.attr("title")?G.attr("title"):G.data("content")&&C.options.showContent?G.data("content"):F+G.html()+E}}).toArray(),A=this.multiple?B.join(this.options.multipleSeparator):B[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var z=this.options.selectedTextFormat.split(">");if(z.length>1&&B.length>z[1]||1==z.length&&B.length>=2){D=this.options.hideDisabled?", [disabled]":"";var y=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+D).length,x="function"==typeof this.options.countSelectedText?this.options.countSelectedText(B.length,y):this.options.countSelectedText;A=x.replace("{0}",B.length.toString()).replace("{1}",y.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(A=this.options.title),A||(A="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",r.trim(A.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(A),this.$element.trigger("rendered.bs.select")},setStyle:function(x,w){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var y=x?x:this.options.style;"add"==w?this.$button.addClass(y):"remove"==w?this.$button.removeClass(y):(this.$button.removeClass(this.options.style),this.$button.addClass(y))},liHeight:function(U){if(U||this.options.size!==!1&&!this.sizeInfo){var T=document.createElement("div"),S=document.createElement("div"),R=document.createElement("ul"),Q=document.createElement("li"),P=document.createElement("li"),O=document.createElement("a"),N=document.createElement("span"),M=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,L=this.options.liveSearch?document.createElement("div"):null,K=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,J=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(N.className="text",T.className=this.$menu[0].parentNode.className+" open",S.className="dropdown-menu open",R.className="dropdown-menu inner",Q.className="divider",N.appendChild(document.createTextNode("Inner text")),O.appendChild(N),P.appendChild(O),R.appendChild(P),R.appendChild(Q),M&&S.appendChild(M),L){var I=document.createElement("span");L.className="bs-searchbox",I.className="form-control",L.appendChild(I),S.appendChild(L)}K&&S.appendChild(K),S.appendChild(R),J&&S.appendChild(J),T.appendChild(S),document.body.appendChild(T);var H=O.offsetHeight,G=M?M.offsetHeight:0,F=L?L.offsetHeight:0,E=K?K.offsetHeight:0,D=J?J.offsetHeight:0,C=r(Q).outerHeight(!0),B="function"==typeof getComputedStyle?getComputedStyle(S):!1,A=B?null:r(S),z=parseInt(B?B.paddingTop:A.css("paddingTop"))+parseInt(B?B.paddingBottom:A.css("paddingBottom"))+parseInt(B?B.borderTopWidth:A.css("borderTopWidth"))+parseInt(B?B.borderBottomWidth:A.css("borderBottomWidth")),y=z+parseInt(B?B.marginTop:A.css("marginTop"))+parseInt(B?B.marginBottom:A.css("marginBottom"))+2;document.body.removeChild(T),this.sizeInfo={liHeight:H,headerHeight:G,searchHeight:F,actionsHeight:E,doneButtonHeight:D,dividerHeight:C,menuPadding:z,menuExtras:y}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var S,R,Q,P,O=this,N=this.$menu,M=this.$menuInner,L=r(window),K=this.$newElement[0].offsetHeight,J=this.sizeInfo.liHeight,I=this.sizeInfo.headerHeight,H=this.sizeInfo.searchHeight,G=this.sizeInfo.actionsHeight,F=this.sizeInfo.doneButtonHeight,E=this.sizeInfo.dividerHeight,D=this.sizeInfo.menuPadding,C=this.sizeInfo.menuExtras,B=this.options.hideDisabled?".disabled":"",A=function(){Q=O.$newElement.offset().top-L.scrollTop(),P=L.height()-Q-K};if(A(),"auto"===this.options.size){var z=function(){var U,T=function(X,Y){return function(Z){return Y?Z.classList?Z.classList.contains(X):r(Z).hasClass(X):!(Z.classList?Z.classList.contains(X):r(Z).hasClass(X))}},W=O.$menuInner[0].getElementsByTagName("li"),V=Array.prototype.filter?Array.prototype.filter.call(W,T("hidden",!1)):O.$lis.not(".hidden"),w=Array.prototype.filter?Array.prototype.filter.call(V,T("dropdown-header",!0)):V.filter(".dropdown-header");A(),S=P-C,O.options.container?(N.data("height")||N.data("height",N.height()),R=N.data("height")):R=N.height(),O.options.dropupAuto&&O.$newElement.toggleClass("dropup",Q>P&&R>S-C),O.$newElement.hasClass("dropup")&&(S=Q-C),U=V.length+w.length>3?3*J+C-2:0,N.css({"max-height":S+"px",overflow:"hidden","min-height":U+I+H+G+F+"px"}),M.css({"max-height":S-I-H-G-F-D+"px","overflow-y":"auto","min-height":Math.max(U-D,0)+"px"})};z(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",z),L.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",z)}else{if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(B).length>this.options.size){var y=this.$lis.not(".divider").not(B).children().slice(0,this.options.size).last().parent().index(),x=this.$lis.slice(0,y+1).filter(".divider").length;S=J*this.options.size+x*E+D,O.options.container?(N.data("height")||N.data("height",N.height()),R=N.data("height")):R=N.height(),O.options.dropupAuto&&this.$newElement.toggleClass("dropup",Q>P&&R>S-C),N.css({"max-height":S+I+H+G+F+"px",overflow:"hidden","min-height":""}),M.css({"max-height":S-D+"px","overflow-y":"auto","min-height":""})}}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var x=this.$menu.parent().clone().appendTo("body"),w=this.options.container?this.$newElement.clone().appendTo("body"):x,z=x.children(".dropdown-menu").outerWidth(),y=w.css("width","auto").children("button").outerWidth();x.remove(),w.remove(),this.$newElement.css("width",Math.max(z,y)+"px")}else{"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""))}this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=r('<div class="bs-container" />');var w,z,y=this,x=function(A){y.$bsContainer.addClass(A.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",A.hasClass("dropup")),w=A.offset(),z=A.hasClass("dropup")?0:A[0].offsetHeight,y.$bsContainer.css({top:w.top+z,left:w.left,width:A[0].offsetWidth})};this.$button.on("click",function(){var A=r(this);y.isDisabled()||(x(y.$newElement),y.$bsContainer.appendTo(y.options.container).toggleClass("open",!A.hasClass("open")).append(y.$menu))}),r(window).on("resize scroll",function(){x(y.$newElement)}),this.$element.on("hide.bs.select",function(){y.$menu.data("height",y.$menu.height()),y.$bsContainer.detach()})},setSelected:function(x,w,y){y||(y=this.findLis().eq(this.liObj[x])),y.toggleClass("selected",w)},setDisabled:function(x,w,y){y||(y=this.findLis().eq(this.liObj[x])),w?y.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):y.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var w=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return !w.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var w=this,x=r(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(y){y.stopPropagation()}),x.data("spaceSelect",!1),this.$button.on("keyup",function(y){/(32)/.test(y.keyCode.toString(10))&&x.data("spaceSelect")&&(y.preventDefault(),x.data("spaceSelect",!1))}),this.$button.on("click",function(){w.setSize()}),this.$element.on("shown.bs.select",function(){if(w.options.liveSearch||w.multiple){if(!w.multiple){var y=w.liObj[w.$element[0].selectedIndex];if("number"!=typeof y||w.options.size===!1){return}var z=w.$lis.eq(y)[0].offsetTop-w.$menuInner[0].offsetTop;z=z-w.$menuInner[0].offsetHeight/2+w.sizeInfo.liHeight/2,w.$menuInner[0].scrollTop=z}}else{w.$menuInner.find(".selected a").focus()}}),this.$menuInner.on("click","li a",function(P){var O=r(this),N=O.parent().data("originalIndex"),M=w.$element.val(),L=w.$element.prop("selectedIndex");if(w.multiple&&P.stopPropagation(),P.preventDefault(),!w.isDisabled()&&!O.parent().hasClass("disabled")){var K=w.$element.find("option"),J=K.eq(N),I=J.prop("selected"),H=J.parent("optgroup"),G=w.options.maxOptions,F=H.data("maxOptions")||!1;if(w.multiple){if(J.prop("selected",!I),w.setSelected(N,!I),O.blur(),G!==!1||F!==!1){var E=G<K.filter(":selected").length,D=F<H.find("option:selected").length;if(G&&E||F&&D){if(G&&1==G){K.prop("selected",!1),J.prop("selected",!0),w.$menuInner.find(".selected").removeClass("selected"),w.setSelected(N,!0)}else{if(F&&1==F){H.find("option:selected").prop("selected",!1),J.prop("selected",!0);var C=O.parent().data("optgroup");w.$menuInner.find('[data-optgroup="'+C+'"]').removeClass("selected"),w.setSelected(N,!0)}else{var B="function"==typeof w.options.maxOptionsText?w.options.maxOptionsText(G,F):w.options.maxOptionsText,A=B[0].replace("{n}",G),z=B[1].replace("{n}",F),y=r('<div class="notify"></div>');B[2]&&(A=A.replace("{var}",B[2][G>1?0:1]),z=z.replace("{var}",B[2][F>1?0:1])),J.prop("selected",!1),w.$menu.append(y),G&&E&&(y.append(r("<div>"+A+"</div>")),w.$element.trigger("maxReached.bs.select")),F&&D&&(y.append(r("<div>"+z+"</div>")),w.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){w.setSelected(N,!1)},10),y.delay(750).fadeOut(300,function(){r(this).remove()})}}}}}else{K.prop("selected",!1),J.prop("selected",!0),w.$menuInner.find(".selected").removeClass("selected"),w.setSelected(N,!0)}w.multiple?w.options.liveSearch&&w.$searchbox.focus():w.$button.focus(),(M!=w.$element.val()&&w.multiple||L!=w.$element.prop("selectedIndex")&&!w.multiple)&&w.$element.trigger("changed.bs.select",[N,J.prop("selected"),I]).triggerNative("change")}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(y){y.currentTarget==this&&(y.preventDefault(),y.stopPropagation(),w.options.liveSearch&&!r(y.target).hasClass("close")?w.$searchbox.focus():w.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(y){y.preventDefault(),y.stopPropagation(),w.options.liveSearch?w.$searchbox.focus():w.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){w.$button.click()}),this.$searchbox.on("click",function(y){y.stopPropagation()}),this.$menu.on("click",".actions-btn",function(y){w.options.liveSearch?w.$searchbox.focus():w.$button.focus(),y.preventDefault(),y.stopPropagation(),r(this).hasClass("bs-select-all")?w.selectAll():w.deselectAll()}),this.$element.change(function(){w.render(!1)})},liveSearchListener:function(){var x=this,w=r('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){x.$menuInner.find(".active").removeClass("active"),x.$searchbox.val()&&(x.$searchbox.val(""),x.$lis.not(".is-hidden").removeClass("hidden"),w.parent().length&&w.remove()),x.multiple||x.$menuInner.find(".selected").addClass("active"),setTimeout(function(){x.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(y){y.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(x.$searchbox.val()){var z=x.$lis.not(".is-hidden").removeClass("hidden").children("a");z=x.options.liveSearchNormalize?z.not(":a"+x._searchStyle()+'("'+q(x.$searchbox.val())+'")'):z.not(":"+x._searchStyle()+'("'+x.$searchbox.val()+'")'),z.parent().addClass("hidden"),x.$lis.filter(".dropdown-header").each(function(){var A=r(this),B=A.data("optgroup");0===x.$lis.filter("[data-optgroup="+B+"]").not(A).not(".hidden").length&&(A.addClass("hidden"),x.$lis.filter("[data-optgroup="+B+"div]").addClass("hidden"))});var y=x.$lis.not(".hidden");y.each(function(A){var B=r(this);B.hasClass("divider")&&(B.index()===y.first().index()||B.index()===y.last().index()||y.eq(A+1).hasClass("divider"))&&B.addClass("hidden")}),x.$lis.not(".hidden, .no-results").length?w.parent().length&&w.remove():(w.parent().length&&w.remove(),w.html(x.options.noneResultsText.replace("{0}",'"'+v(x.$searchbox.val())+'"')).show(),x.$menuInner.append(w))}else{x.$lis.not(".is-hidden").removeClass("hidden"),w.parent().length&&w.remove()}x.$lis.filter(".active").removeClass("active"),x.$searchbox.val()&&x.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),r(this).focus()})},_searchStyle:function(){var w={begins:"ibegins",startsWith:"ibegins"};return w[this.options.liveSearchStyle]||"icontains"},val:function(w){return"undefined"!=typeof w?(this.$element.val(w),this.render(),this.$element):this.$element.val()},changeAll:function(w){"undefined"==typeof w&&(w=!0),this.findLis();for(var C=this.$element.find("option"),B=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",w),A=B.length,z=[],y=0;A>y;y++){var x=B[y].getAttribute("data-original-index");z[z.length]=C.eq(x)[0]}r(z).prop("selected",w),this.render(!1),this.$element.trigger("changed.bs.select").triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(w){w=w||window.event,w&&w.stopPropagation(),this.$button.trigger("click")},keydown:function(O){var N,M,L,K,J,I,H,G,F,E=r(this),D=E.is("input")?E.parent().parent():E.parent(),C=D.data("this"),B=":not(.disabled, .hidden, .dropdown-header, .divider)",A={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(C.options.liveSearch&&(D=E.parent().parent()),C.options.container&&(D=C.$menu),N=r("[role=menu] li",D),F=C.$newElement.hasClass("open"),!F&&(O.keyCode>=48&&O.keyCode<=57||O.keyCode>=96&&O.keyCode<=105||O.keyCode>=65&&O.keyCode<=90)&&(C.options.container?C.$button.trigger("click"):(C.setSize(),C.$menu.parent().addClass("open"),F=!0),C.$searchbox.focus()),C.options.liveSearch&&(/(^9$|27)/.test(O.keyCode.toString(10))&&F&&0===C.$menu.find(".active").length&&(O.preventDefault(),C.$menu.parent().removeClass("open"),C.options.container&&C.$newElement.removeClass("open"),C.$button.focus()),N=r("[role=menu] li"+B,D),E.val()||/(38|40)/.test(O.keyCode.toString(10))||0===N.filter(".active").length&&(N=C.$menuInner.find("li"),N=C.options.liveSearchNormalize?N.filter(":a"+C._searchStyle()+"("+q(A[O.keyCode])+")"):N.filter(":"+C._searchStyle()+"("+A[O.keyCode]+")"))),N.length){if(/(38|40)/.test(O.keyCode.toString(10))){M=N.index(N.find("a").filter(":focus").parent()),K=N.filter(B).first().index(),J=N.filter(B).last().index(),L=N.eq(M).nextAll(B).eq(0).index(),I=N.eq(M).prevAll(B).eq(0).index(),H=N.eq(L).prevAll(B).eq(0).index(),C.options.liveSearch&&(N.each(function(P){r(this).hasClass("disabled")||r(this).data("index",P)}),M=N.index(N.filter(".active")),K=N.first().data("index"),J=N.last().data("index"),L=N.eq(M).nextAll().eq(0).data("index"),I=N.eq(M).prevAll().eq(0).data("index"),H=N.eq(L).prevAll().eq(0).data("index")),G=E.data("prevIndex"),38==O.keyCode?(C.options.liveSearch&&M--,M!=H&&M>I&&(M=I),K>M&&(M=K),M==G&&(M=J)):40==O.keyCode&&(C.options.liveSearch&&M++,-1==M&&(M=0),M!=H&&L>M&&(M=L),M>J&&(M=J),M==G&&(M=K)),E.data("prevIndex",M),C.options.liveSearch?(O.preventDefault(),E.hasClass("dropdown-toggle")||(N.removeClass("active").eq(M).addClass("active").children("a").focus(),E.focus())):N.eq(M).children("a").focus()}else{if(!E.is("input")){var z,y,x=[];N.each(function(){r(this).hasClass("disabled")||r.trim(r(this).children("a").text().toLowerCase()).substring(0,1)==A[O.keyCode]&&x.push(r(this).index())}),z=r(document).data("keycount"),z++,r(document).data("keycount",z),y=r.trim(r(":focus").text().toLowerCase()).substring(0,1),y!=A[O.keyCode]?(z=1,r(document).data("keycount",z)):z>=x.length&&(r(document).data("keycount",0),z>x.length&&(z=1)),N.eq(x[z-1]).children("a").focus()}}if((/(13|32)/.test(O.keyCode.toString(10))||/(^9$)/.test(O.keyCode.toString(10))&&C.options.selectOnTab)&&F){if(/(32)/.test(O.keyCode.toString(10))||O.preventDefault(),C.options.liveSearch){/(32)/.test(O.keyCode.toString(10))||(C.$menuInner.find(".active a").click(),E.focus())}else{var w=r(":focus");w.click(),w.focus(),O.preventDefault(),r(document).data("spaceSelect",!0)}r(document).data("keycount",0)}(/(^9$|27)/.test(O.keyCode.toString(10))&&F&&(C.multiple||C.options.liveSearch)||/(27)/.test(O.keyCode.toString(10))&&!F)&&(C.$menu.parent().removeClass("open"),C.options.container&&C.$newElement.removeClass("open"),C.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var s=r.fn.selectpicker;r.fn.selectpicker=u,r.fn.selectpicker.Constructor=t,r.fn.selectpicker.noConflict=function(){return r.fn.selectpicker=s,this},r(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',t.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(w){w.stopPropagation()}),r(window).on("load.bs.select.data-api",function(){r(".selectpicker").each(function(){var w=r(this);u.call(w,w.data())})})}(p)})}).call(this);